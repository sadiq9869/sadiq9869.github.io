<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Supreme AI Chat</title>
  <style>
    body { margin:0; font-family:'Segoe UI',sans-serif;
      background:linear-gradient(135deg,#1f1c2c,#928dab);
      color:#fff; display:flex; flex-direction:column;
      align-items:center; min-height:100vh; padding:20px;
    }
    h1 { margin-top:20px; font-size:40px; color:#00ffff;
      text-shadow:0 0 12px #00ffff;
    }
    #response { margin-top:30px; width:90%; max-width:600px;
      background:rgba(0,0,0,0.3); padding:20px; border-radius:10px;
      font-size:16px; min-height:80px; white-space:pre-wrap;
    }
    #askBtn { margin-top:20px; padding:12px 25px; font-size:16px;
      background:#00ffff; color:#000; border:none;
      border-radius:8px; cursor:pointer;
      box-shadow:0 0 10px #00ffff,0 0 25px #00ffff inset;
      transition:transform .2s ease;
    }
    #askBtn:hover { transform:scale(1.05); }
    .input-section { position:fixed; bottom:60px; width:80%;
      max-width:400px; display:flex; flex-direction:column;
      align-items:center; padding:0 20px;
    }
    #chatInput { width:100%; padding:8px 15px; border:2px solid #00ffff;
      border-radius:20px; font-size:14px; outline:none;
      background:rgba(0,0,0,0.5); color:#fff;
      box-shadow:inset 0 0 6px #000,0 0 8px #00ffff;
    }
    #chatInput::placeholder { color:#ccc; text-shadow:0 0 6px #00ffff; }
    #warning { position:fixed; bottom:25px; width:100%; text-align:center;
      font-size:11px; font-weight:bold; color:#ffcc00; opacity:.9;
      text-shadow:0 0 6px #ffcc00;
    }
    footer { position:fixed; bottom:8px; width:100%; text-align:center;
      font-size:9px; font-style:italic; color:#dddddd; opacity:.8;
      text-shadow:0 0 8px #fff;
    }
  </style>
</head>
<body>
  <h1>üöÄ Supreme AI</h1>
  <div id="response">AI Response will appear here...</div>
  <button id="askBtn" onclick="askAI()">Ask Supreme AI</button>
  <div class="input-section">
    <input type="text" id="chatInput" placeholder="Ask me anything‚Ä¶" />
  </div>
  <div id="warning">‚ö† Supreme AI may make mistakes. Please check important info.</div>
  <footer>
    Supreme AI made in ¬© 2025 ‚Ä¢ Owner: <strong>Sadiq Siddiqui (Siddique)</strong>
  </footer>

  <script>
    // YOUR KEYS ‚Äî replace placeholders with your actual keys
    const OPENROUTER_KEY = "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";
    const SERPAPI_KEY    = "cac6db70d52a5bcc2fb2c75eca095557ec5fa1500c6e67a3230cba388e9d5a45";
    const HUGGINGFACE_KEY= "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";

    async function askAI() {
      const q = document.getElementById("chatInput").value.trim();
      const resp = document.getElementById("response");
      if (!q) {
        resp.innerText = "Please type something before asking.";
        return;
      }
      resp.innerText = "‚è≥ Thinking‚Ä¶";

      try {
        // 1) Fetch a quick snippet from SerpAPI
        const snippet = await callSerpAPI(q);
        // 2) Query OpenRouter with snippet context
        const answer = await callOpenRouter(q, snippet);
        resp.innerText = answer;
      } catch (e) {
        console.error(e);
        // fallback to HuggingFace if something fails
        try {
          const hf = await callHuggingFace(q);
          resp.innerText = hf;
        } catch (hfErr) {
          console.error(hfErr);
          resp.innerText = "‚ùå Something went wrong. Please try again.";
        }
      }
      document.getElementById("chatInput").value = "";
    }

    // 1. SERPAPI call ‚Äî returns first snippet
    async function callSerpAPI(query) {
      const url = `https://serpapi.com/search.json?engine=google&q=${encodeURIComponent(query)}&api_key=${SERPAPI_KEY}`;
      const r = await fetch(url);
      const j = await r.json();
      if (j.organic_results?.length) {
        return j.organic_results[0].snippet;
      }
      return "";
    }

    // 2. OpenRouter call ‚Äî include snippet in system prompt
    async function callOpenRouter(question, snippet) {
      const res = await fetch("https://openrouter.ai/api/v1/chat/completions", {
        method: "POST",
        headers: {
          "Content-Type":"application/json",
          "Authorization": `Bearer ${OPENROUTER_KEY}`
        },
        body: JSON.stringify({
          model: "mistralai/mistral-7b-instruct:free",
          messages: [
            { role:"system", content:
              snippet
                ? `You are Supreme AI. Use this info: "${snippet}".`
                : "You are Supreme AI."
            },
            { role:"user", content: question }
          ]
        })
      });
      const d = await res.json();
      return d.choices?.[0]?.message?.content || "No answer.";
    }

    // 3. HuggingFace fallback
    async function callHuggingFace(prompt) {
      const res = await fetch("https://api-inference.huggingface.co/models/gpt2", {
        method: "POST",
        headers: {
          "Content-Type":"application/json",
          "Authorization": `Bearer ${HUGGINGFACE_KEY}`
        },
        body: JSON.stringify({ inputs: prompt })
      });
      const d = await res.json();
      return Array.isArray(d) ? d[0].generated_text : prompt;
    }
  </script>
</body>
</html>
